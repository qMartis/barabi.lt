/*! For license information please see index.js.LICENSE.txt */
(()=>{"use strict";const e=window.React,t=(window.ReactDOM,e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)}),a=(...e)=>e.filter((e,t,a)=>Boolean(e)&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim(),r=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const s=(0,e.forwardRef)(({color:t="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:c,className:o="",children:i,iconNode:m,...d},u)=>(0,e.createElement)("svg",{ref:u,...l,width:s,height:s,stroke:t,strokeWidth:c?24*Number(n)/Number(s):n,className:a("lucide",o),...!i&&!r(d)&&{"aria-hidden":"true"},...d},[...m.map(([t,a])=>(0,e.createElement)(t,a)),...Array.isArray(i)?i:[i]])),n=(r,l)=>{const n=(0,e.forwardRef)(({className:n,...c},o)=>{return(0,e.createElement)(s,{ref:o,iconNode:l,className:a(`lucide-${i=t(r),i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${r}`,n),...c});var i});return n.displayName=t(r),n},c=n("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),o=n("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),i=n("blocks",[["path",{d:"M10 22V7a1 1 0 0 0-1-1H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5a1 1 0 0 0-1-1H2",key:"1ah6g2"}],["rect",{x:"14",y:"2",width:"8",height:"8",rx:"1",key:"88lufb"}]]),m=n("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),d=({closePreview:t,handleEditorSelection:a})=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"space-y-6"},(0,e.createElement)("div",{className:"bg-gray-50 rounded-lg"},(0,e.createElement)("div",{className:"bg-white rounded"},(0,e.createElement)("img",{src:"https://ps.w.org/3d-viewer/assets/screenshot-1.png?rev=3312285",alt:"Classic Editor Preview",className:"w-full rounded-t-lg"}))),(0,e.createElement)("div",{className:"text-center"},(0,e.createElement)("p",{className:"text-gray-600 mb-4"},"The Classic Editor provides a familiar, straightforward interface for adding and managing 3D in your website."),(0,e.createElement)("button",{onClick:()=>{t(),a("classic")},className:"cursor-pointer bg-gradient-to-r from-amber-500 to-orange-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-amber-600 hover:to-orange-700 transition-all duration-300"},"Choose Classic Editor")))),u=({closePreview:t,handleEditorSelection:a})=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"space-y-6"},(0,e.createElement)("div",{className:"rounded-lg"},(0,e.createElement)("div",{className:"bg-white rounded"},(0,e.createElement)("img",{src:"https://ps.w.org/3d-viewer/assets/screenshot-9.png?rev=3312284"}))),(0,e.createElement)("div",{className:"text-center"},(0,e.createElement)("p",{className:"text-gray-600 mb-4"},"The Gutenberg Editor offers a modern block-based approach with advanced 3D management features and visual editing. Annotations, Edit Textures, and more are all available in this edit mod"),(0,e.createElement)("button",{onClick:()=>{t(),a("gutenberg")},className:"bg-gradient-to-r from-purple-500 to-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-purple-600 hover:to-blue-700 transition-all duration-300"},"Choose Gutenberg Editor")))),p=n("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),h=n("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),g=n("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),x=n("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),b=n("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),w=({selectedEditor:t,handleEditorSelection:a,openPreview:r})=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"group cursor-pointer transition-all duration-300 "+("classic"===t?"scale-105":"hover:scale-102")},(0,e.createElement)("div",{className:"relative bg-white rounded-3xl p-8 shadow-lg border-2 transition-all duration-300 "+("classic"===t?"border-blue-500 shadow-blue-200":"border-gray-200 hover:border-gray-300 hover:shadow-xl")},"classic"===t&&(0,e.createElement)("div",{className:"absolute -top-3 -right-3 bg-blue-500 rounded-full p-2 shadow-lg"},(0,e.createElement)(p,{className:"w-5 h-5 text-white"})),(0,e.createElement)("div",{className:"text-center mb-6",onClick:()=>a("classic")},(0,e.createElement)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-amber-500 to-orange-600 rounded-2xl mb-4 shadow-lg"},(0,e.createElement)(o,{className:"w-8 h-8 text-white"})),(0,e.createElement)("h3",{className:"!text-2xl font-bold text-gray-900 mb-2"},"Classic Editor"),(0,e.createElement)("p",{className:"text-gray-600"},"Simple, familiar, and straightforward")),(0,e.createElement)("div",{className:"space-y-4 mb-8",onClick:()=>a("classic")},(0,e.createElement)("div",{className:"flex items-center space-x-3"},(0,e.createElement)(h,{className:"w-5 h-5 text-amber-500"}),(0,e.createElement)("span",{className:"text-gray-700"},"Traditional WordPress experience")),(0,e.createElement)("div",{className:"flex items-center space-x-3"},(0,e.createElement)(g,{className:"w-5 h-5 text-amber-500"}),(0,e.createElement)("span",{className:"text-gray-700"},"Fast and lightweight")),(0,e.createElement)("div",{className:"flex items-center space-x-3"},(0,e.createElement)(x,{className:"w-5 h-5 text-amber-500"}),(0,e.createElement)("span",{className:"text-gray-700"},"Easy 3D insertion and management"))),(0,e.createElement)("div",{className:"flex space-x-3 mb-6"},(0,e.createElement)("button",{onClick:()=>r("classic"),className:"cursor-pointer flex-1 py-3 px-4 rounded-lg border-2 border-amber-200 text-amber-700 font-medium hover:border-amber-300 hover:bg-amber-50 transition-all duration-300 flex items-center justify-center space-x-2"},(0,e.createElement)(b,{className:"w-4 h-4"}),(0,e.createElement)("span",null,"Preview"))),(0,e.createElement)("button",{onClick:()=>a("classic"),className:"cursor-pointer w-full py-4 px-6 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center space-x-2 "+("classic"===t?"bg-blue-500 text-white shadow-lg":"bg-gradient-to-r from-amber-500 to-orange-600 text-white hover:from-amber-600 hover:to-orange-700 shadow-lg hover:shadow-xl")},(0,e.createElement)("span",null,"classic"===t?"Selected":"Choose Classic"),"classic"!==t&&(0,e.createElement)(c,{className:"w-5 h-5"}))))),E=({selectedEditor:t,handleEditorSelection:a,openPreview:r})=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"group cursor-pointer transition-all duration-300 "+("gutenberg"===t?"scale-105":"hover:scale-102")},(0,e.createElement)("div",{className:"relative bg-white rounded-3xl p-8 shadow-lg border-2 transition-all duration-300 "+("gutenberg"===t?"border-purple-500 shadow-purple-200":"border-gray-200 hover:border-gray-300 hover:shadow-xl")},"gutenberg"===t&&(0,e.createElement)("div",{className:"absolute -top-3 -right-3 bg-purple-500 rounded-full p-2 shadow-lg"},(0,e.createElement)(p,{className:"w-5 h-5 text-white"})),(0,e.createElement)("div",{className:"text-center mb-6",onClick:()=>a("gutenberg")},(0,e.createElement)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-purple-500 to-blue-600 rounded-2xl mb-4 shadow-lg"},(0,e.createElement)(i,{className:"w-8 h-8 text-white"})),(0,e.createElement)("h3",{className:"!text-2xl font-bold text-gray-900 mb-2"},"Gutenberg Editor"),(0,e.createElement)("p",{className:"text-gray-600"},"Modern block-based editing experience")),(0,e.createElement)("div",{className:"space-y-4 mb-8",onClick:()=>a("gutenberg")},(0,e.createElement)("div",{className:"flex items-center space-x-3"},(0,e.createElement)(h,{className:"w-5 h-5 text-purple-500"}),(0,e.createElement)("span",{className:"text-gray-700"},"Visual block-based editing")),(0,e.createElement)("div",{className:"flex items-center space-x-3"},(0,e.createElement)(g,{className:"w-5 h-5 text-purple-500"}),(0,e.createElement)("span",{className:"text-gray-700"},"Advanced 3D block features")),(0,e.createElement)("div",{className:"flex items-center space-x-3"},(0,e.createElement)(x,{className:"w-5 h-5 text-purple-500"}),(0,e.createElement)("span",{className:"text-gray-700"},"Drag & drop 3D management"))),(0,e.createElement)("div",{className:"flex space-x-3 mb-6"},(0,e.createElement)("button",{onClick:()=>r("gutenberg"),className:"cursor-pointer flex-1 py-3 px-4 rounded-lg border-2 border-purple-200 text-purple-700 font-medium hover:border-purple-300 hover:bg-purple-50 transition-all duration-300 flex items-center justify-center space-x-2"},(0,e.createElement)(b,{className:"w-4 h-4"}),(0,e.createElement)("span",null,"Preview"))),(0,e.createElement)("button",{onClick:()=>a("gutenberg"),className:"cursor-pointer w-full py-4 px-6 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center space-x-2 "+("gutenberg"===t?"bg-purple-500 text-white shadow-lg":"bg-gradient-to-r from-purple-500 to-blue-600 text-white hover:from-purple-600 hover:to-blue-700 shadow-lg hover:shadow-xl")},(0,e.createElement)("span",null,"gutenberg"===t?"Selected":"Choose Gutenberg"),"gutenberg"!==t&&(0,e.createElement)(c,{className:"w-5 h-5"}))))),v=n("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),f=n("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),y=function(){const[t,a]=(0,e.useState)(null),[r,l]=(0,e.useState)(null),{data:s,saveData:n,isLoading:p,error:h}=((t,a={},r=!0)=>{const[l,s]=(0,e.useState)(!1),[n,c]=(0,e.useState)(!1),[o,i]=(0,e.useState)(null),[m,d]=(0,e.useState)(null);if(!wp.ajax)return void console.error("Please use wp-util as a dependency");const u=(e={})=>{s(!0),c(!1),i(null),wp.ajax.post(t,{...a,...e}).done(e=>{s(!1),d(e)}).fail(e=>{s(!1),c(!0),i(e)})},p=(e={})=>{u(e)};return(0,e.useEffect)(()=>{r&&u(a)},[]),{data:m,saveData:p,refetch:p,isLoading:l,isError:n,error:o}})("bp3d_save_preferred_editor",{_security_code:window.bp3d_choose_preferred_editor?.nonce},!1),g=e=>{a(e)},x=e=>{l(e)},b=()=>{l(null)};return(0,e.useEffect)(()=>{if(!h&&!p&&"success"===s?.status){const e=`${window.location.origin}/wp-admin/admin.php?page=3d-viewer`;window.location.href=e}},[p]),(0,e.createElement)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50"},(0,e.createElement)("div",{className:"container mx-auto px-6 pt-12"},(0,e.createElement)("div",{className:"text-center mb-12"},(0,e.createElement)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full mb-6 shadow-lg"},(0,e.createElement)(f,{className:"w-8 h-8 text-white"})),(0,e.createElement)("h1",{className:"!text-4xl font-bold text-gray-900 mb-4"},"3D Viewer Activated!"),(0,e.createElement)("p",{className:"!text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed !m-auto"},"Welcome to your new 3D Viewer experience! To get started, please select your preferred editor below.")),(0,e.createElement)("div",{className:"max-w-6xl mx-auto"},(0,e.createElement)("div",{className:"grid md:grid-cols-2 gap-8 mb-12"},(0,e.createElement)(w,{selectedEditor:t,handleEditorSelection:g,openPreview:x}),(0,e.createElement)(E,{selectedEditor:t,handleEditorSelection:g,openPreview:x})),t&&(0,e.createElement)("div",{className:"text-center"},(0,e.createElement)("button",{onClick:()=>{t&&wp.ajax&&n({editor:t})},disabled:p,className:"inline-flex items-center space-x-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white px-8 py-4 rounded-xl font-semibold !text-lg shadow-lg hover:shadow-xl transition-all duration-300 hover:from-green-600 hover:to-emerald-700"},(0,e.createElement)("span",null,"Continue with ","classic"===t?"Classic":"Gutenberg"," Editor"),p?(0,e.createElement)(v,null):(0,e.createElement)(c,{className:"w-6 h-6"})),(0,e.createElement)("p",{className:"text-gray-500 !text-sm mt-4"},"You can change your editor preference anytime in plugin settings"))),(0,e.createElement)("div",{className:"text-center py-12 mt-16 border-t border-gray-200"},(0,e.createElement)("p",{className:"text-gray-500"},"Need help? Check out our"," ",(0,e.createElement)("a",{href:"https://bplugins.com/docs/3d-viewer/",target:"_blank",rel:"noreferrer",className:"text-blue-500 hover:text-blue-600 font-medium"},"documentation")," ","or"," ",(0,e.createElement)("a",{href:"https://bplugins.com/contact/",rel:"noreferrer",target:"_blank",className:"text-blue-500 hover:text-blue-600 font-medium"},"contact support")))),r&&(0,e.createElement)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"},(0,e.createElement)("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden shadow-2xl"},(0,e.createElement)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200"},(0,e.createElement)("div",{className:"flex items-center space-x-3"},(0,e.createElement)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center "+("classic"===r?"bg-gradient-to-r from-amber-500 to-orange-600":"bg-gradient-to-r from-purple-500 to-blue-600")},"classic"===r?(0,e.createElement)(o,{className:"w-5 h-5 text-white"}):(0,e.createElement)(i,{className:"w-5 h-5 text-white"})),(0,e.createElement)("div",null,(0,e.createElement)("h3",{className:"!text-xl font-bold text-gray-900 !m-0"},"classic"===r?"Classic Editor":"Gutenberg Editor"," Preview"),(0,e.createElement)("p",{className:"text-gray-600 text-sm !m-0"},"See how your 3D editing experience will look"))),(0,e.createElement)("button",{onClick:b,className:"cursor-pointer p-2 hover:bg-gray-100 rounded-lg transition-colors duration-200"},(0,e.createElement)(m,{className:"w-6 h-6 text-gray-500"}))),(0,e.createElement)("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]"},"classic"===r?(0,e.createElement)(d,{closePreview:b,handleEditorSelection:g}):(0,e.createElement)(u,{closePreview:b,handleEditorSelection:g})))))},{createRoot:N}=window.ReactDOM;document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("bp3d-choose-preferred-editor");t&&N(t).render((0,e.createElement)(y,null))})})();