!function(e){var i={setting_visody_model:null,setting_visody_model_id:null};e(".visody_inline_viewer_field input:checked").length?e(".visody_inline_viewer_last_slide_field").show():e(".visody_inline_viewer_last_slide_field").hide(),e(".visody_inline_viewer_field input").on("change",function(){e(this).is(":checked")?e(".visody_inline_viewer_last_slide_field").show():e(".visody_inline_viewer_last_slide_field").hide()}),e(".visody_inline_shortcode_viewer_field input:checked").length?(e(".visody_viewer_frame_ratio_field").show(),e(".visody_viewer_frame_ratio_mobile_field").show()):(e(".visody_viewer_frame_ratio_field").hide(),e(".visody_viewer_frame_ratio_mobile_field").hide()),e(".visody_inline_shortcode_viewer_field input").on("change",function(){e(this).is(":checked")?(e(".visody_viewer_frame_ratio_field").show(),e(".visody_viewer_frame_ratio_mobile_field").show()):(e(".visody_viewer_frame_ratio_field").hide(),e(".visody_viewer_frame_ratio_mobile_field").hide())}),e(document).on("click",".vsd-file-upload-button",function t(d){var s=e(this),o=s.attr("rel"),l=s.closest(".vsd-file-upload");if(i.setting_visody_model=l,i.setting_visody_model_id=o,d.preventDefault(),l.hasClass("remove"))e(".vsd-file-upload-field",i.setting_visody_model).val("").trigger("change"),i.setting_visody_model.val("").trigger("change"),i.setting_visody_model.find("img").eq(0).attr("src",""),i.setting_visody_model.find(".action-name").text("Set "+i.setting_visody_model.find("label").text()),i.setting_visody_model.find(".details-title").text(""),i.setting_visody_model.find(".details-size").text(""),i.setting_visody_model.removeClass("remove");else{if(i.setting_visody_model_frame){i.setting_visody_model_frame.uploader.uploader.param("post_id",i.setting_visody_model_id),i.setting_visody_model_frame.open();return}i.setting_visody_model_frame=wp.media.frames.variable_image=wp.media({title:"Choose "+i.setting_visody_model.find("label").text(),button:{text:"Set "+i.setting_visody_model.find("label").text()}}),i.setting_visody_model_frame.on("select",function(){var t=i.setting_visody_model_frame.state().get("selection").first().toJSON(),d=t.sizes&&t.sizes.thumbnail.url?t.sizes.thumbnail.url:t.icon;if(!t.filename.includes(".gltf")&&!t.filename.includes(".glb")){i.setting_visody_model.find(".error").length||i.setting_visody_model.append('<p class="error">Please select GLB or glTF file.</p>');return}e(".vsd-file-upload-field",i.setting_visody_model).val(t.id).trigger("change"),i.setting_visody_model.find("img").eq(0).attr("src",d),i.setting_visody_model.find(".action-name").text("Remove "+i.setting_visody_model.find("label").text()),i.setting_visody_model.find(".details-title").text(t.filename),i.setting_visody_model.find(".details-size").text(t.filesizeHumanReadable),i.setting_visody_model.find(".error").length&&i.setting_visody_model.find(".error").remove(),i.setting_visody_model.addClass("remove")}),i.setting_visody_model_frame.open()}})}(jQuery);